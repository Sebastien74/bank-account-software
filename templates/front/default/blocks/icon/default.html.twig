{% trans_default_domain 'front_default' %}

{% if block.icon %}
    {% set title = intl.title is defined ? intl.title : null %}
    {% set link = intl.link is defined ? intl.link : null %}
    {% set linkBlank = intl.linkBlank is defined ? intl.linkBlank : false %}
    {% set linkExternal = intl.linkExternal is defined ? intl.linkExternal : false %}
    {% set size = block.iconSize is defined and block.iconSize ? block.iconSize : 'md' %}
    {% set color = block.color is defined and block.color ? block.color : 'primary' %}
    {% set colorHover = link and block.backgroundColorType is defined and block.backgroundColorType ? block.backgroundColorType|replace({'bg-': ''}) : (link ? 'secondary' : null) %}
    {% set class = class is defined ? class : null %}
    <div class="block-icon{% if class %} {{ class }}{% endif %}">
        {% if link %}
            <a href="{{ link }}" class="text-{{ color }}{% if colorHover %} hover-{{ colorHover }}{% endif %}"{% if linkBlank %} target="_blank"{% endif %}{% if linkExternal %} rel="noopener noreferrer"{% endif %}>
        {% endif %}
                {{ block.icon|icon(null, null, "block-svg-"~size~"-icon "~color, {title: title|striptags}) }}
            {% if title %}
                <strong class="img-title d-inline-block w-100 fw-700 mt-3 text-{{ color }}">{{ title|raw }}</strong>
            {% endif %}
        {% if link %}
            </a>
        {% endif %}
    </div>
{% endif %}